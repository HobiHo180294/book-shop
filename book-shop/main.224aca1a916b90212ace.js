"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[179],{2262:()=>{eval('\n;// CONCATENATED MODULE: ./js/modules/_functions.mjs\nfunction ibg() {\n  var ibg = document.querySelectorAll("._ibg");\n  [].forEach.call(ibg, function (img) {\n    if (img.querySelector("img")) img.style.backgroundImage = "url(" + img.querySelector("img").getAttribute("src") + ")";\n  });\n}\nfunction isIterable(obj) {\n  if (obj == null) return false;\n  return typeof obj[Symbol.iterator] === "function";\n}\nfunction addSomeClasses(targetElem, classes) {\n  classes.split(" ").forEach(function (classElem) {\n    return targetElem.classList.add(classElem);\n  });\n}\nfunction removeSomeClasses(targetElem, classes) {\n  classes.split(" ").forEach(function (classElem) {\n    return targetElem.classList.remove(classElem);\n  });\n}\nfunction appendSomeElements(parent, children) {\n  children.forEach(function (child) {\n    return parent.appendChild(child);\n  });\n}\nfunction setAttributes(element, attrs) {\n  for (var key in attrs) {\n    element.setAttribute(key, attrs[key]);\n  }\n}\n\n;// CONCATENATED MODULE: ./pages/main/script.mjs\n\n\nvar main = document.querySelector(".page");\nfunction buildMain() {\n  // Page elements\n  var catalogSection = document.createElement("section");\n  var catalogContainer = document.createElement("div");\n  var catalogBooks = document.createElement("div");\n  var bookElem;\n  var bookWrapper;\n  var bookPic;\n  var bookCharacteristics;\n  var bookAuthor;\n  var bookPrice;\n  var bookTitle;\n  var bookButtons;\n  var bookMoreBtn;\n  var bookBuyBtn;\n  var popup;\n  var popupContent;\n  var popupTitle;\n  var popupDescription;\n  var popupCloseBtn;\n  var fragment = new DocumentFragment();\n\n  // Appending all elements to fragment\n  addSomeClasses(catalogSection, "page__catalog catalog");\n  addSomeClasses(catalogContainer, "catalog__container _standard-container");\n  catalogBooks.classList.add("catalog__books");\n  catalogSection.append(catalogContainer);\n  catalogContainer.append(catalogBooks);\n  for (var i = 0; i < 10; i++) {\n    bookElem = document.createElement("div");\n    addSomeClasses(bookElem, "catalog__book book");\n    bookWrapper = document.createElement("figure");\n    bookWrapper.classList.add("book__wrapper");\n    bookPic = document.createElement("img");\n    bookPic.classList.add("book__pic");\n    var bookPicAttrs = {\n      width: "249.75",\n      height: "320",\n      alt: "Book image"\n    };\n    setAttributes(bookPic, bookPicAttrs);\n    bookCharacteristics = document.createElement("div");\n    bookCharacteristics.classList.add("book__characteristics");\n    bookAuthor = document.createElement("figcaption");\n    bookAuthor.classList.add("book__author");\n    bookPrice = document.createElement("div");\n    bookPrice.classList.add("book__price");\n    bookTitle = document.createElement("h2");\n    bookTitle.classList.add("book__title");\n    bookButtons = document.createElement("div");\n    bookButtons.classList.add("book__buttons");\n    bookMoreBtn = document.createElement("button");\n    bookMoreBtn.classList.add("book__more");\n    bookMoreBtn.textContent = "Show more";\n    bookBuyBtn = document.createElement("button");\n    bookBuyBtn.classList.add("book__buy");\n    bookBuyBtn.textContent = "Add to bag";\n    popup = document.createElement("div");\n    addSomeClasses(popup, "book__popup popup");\n    popupContent = document.createElement("div");\n    popupContent.classList.add("popup__content");\n    popupTitle = document.createElement("h2");\n    popupTitle.classList.add("popup__title");\n    popupDescription = document.createElement("p");\n    popupDescription.classList.add("popup__description");\n    popupCloseBtn = document.createElement("button");\n    popupCloseBtn.classList.add("popup__close");\n    popupCloseBtn.textContent = "Close";\n    appendSomeElements(popupContent, [popupTitle, popupDescription, popupCloseBtn]);\n    popup.append(popupContent);\n    appendSomeElements(bookButtons, [bookMoreBtn, bookBuyBtn]);\n    appendSomeElements(bookCharacteristics, [bookAuthor, bookPrice]);\n    appendSomeElements(bookWrapper, [bookPic, bookCharacteristics]);\n    appendSomeElements(bookElem, [bookWrapper, bookTitle, bookButtons, popup]);\n    catalogBooks.append(bookElem);\n  }\n  fragment.append(catalogSection);\n\n  // Page elements injecting into HTML\n  main.append(fragment);\n}\ndocument.addEventListener("DOMContentLoaded", function () {\n  // Build content in the main page part\n  buildMain();\n\n  // Book characteristics\n  var bookTitles = document.querySelectorAll(".book__title");\n  var bookImages = document.querySelectorAll(".book__pic");\n  var bookAuthors = document.querySelectorAll(".book__author");\n  var bookCosts = document.querySelectorAll(".book__price");\n\n  // Popup variables\n  var showPopupButtons = document.querySelectorAll(".book__more");\n  var closeButtons = document.querySelectorAll(".popup__close");\n  var popupTitles = document.querySelectorAll(".popup__title");\n  var popupDescriptions = document.querySelectorAll(".popup__description");\n\n  // Write JSON data into the variable\n  var jsonBooksData = fetch("./assets/json/books.json") //path to the file with json data\n  .then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    return data;\n  });\n\n  // Resolve JSON data\n  var books = Promise.resolve(jsonBooksData);\n\n  // Implement JSON data into HTML page\n  books.then(function (bookArr) {\n    var counter = 0;\n    for (var i = 0; i < bookArr.length; i++) {\n      bookTitles[counter].textContent = bookArr[i].title;\n      bookImages[counter].src = bookArr[i].imageLink;\n      bookAuthors[counter].textContent = bookArr[i].author;\n      bookCosts[counter].textContent = bookArr[i].price + "$";\n      popupTitles[counter].textContent = bookArr[i].title;\n      popupDescriptions[counter].textContent = bookArr[i].description;\n      counter++;\n    }\n  });\n\n  // Popup implementation\n  showPopupButtons.forEach(function (showPopupBtn) {\n    return showPopupBtn.addEventListener("click", function () {\n      showPopupBtn.parentElement.nextElementSibling.classList.toggle("popup__show");\n    });\n  });\n  closeButtons.forEach(function (closeButton) {\n    return closeButton.addEventListener("click", function () {\n      console.log(closeButton.parentElement);\n      closeButton.parentElement.parentElement.classList.toggle("popup__show");\n    });\n  });\n});\n\n//# sourceURL=webpack:///./pages/main/script.mjs_+_1_modules?')}},o=>{var n=n=>o(o.s=n);o.O(0,[202],(()=>(n(1202),n(2262))));o.O()}]);